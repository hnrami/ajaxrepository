const query = {
    query: {
        boo: {
            must: [
                {
                    match_phase_prefix: {
                        'filename.text': {}
                    }
                }
            ],
            include: [
                "filename"
            ]
        }
    }
};

const QueryModifier = {
    replaceKey: function(obj, oldKey, newKey) {
        if (typeof obj !== 'object') {
            return obj;
        }

        let newObj = {};
        for (let key in obj) {
            if (key === oldKey) {
                newObj[newKey] = this.replaceKey(obj[oldKey], oldKey, newKey);
            } else {
                newObj[key] = this.replaceKey(obj[key], oldKey, newKey);
            }
        }
        return newObj;
    }
};

// Usage:
let modifiedQuery = QueryModifier.replaceKey(query, 'filename', 'city');
console.log(modifiedQuery);
